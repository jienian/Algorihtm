# algorihtm
# 第1章 常见数据结构
## 1.1数组
``` java
// 数组的常见定义方式，长度是3，默认值都是0。
int[] nums1 = new int[3];
// 还可以在定义的时候直接初始化，数组长度是3。
int[] nums2 = {1, 2, 3};
// or可以这样写。
int[] nums3 = new int[]{1, 2, 3};
// or也可以这样，中括号放到变量的后面。
int nums4[] = {1, 2, 3};

```
### 1.1.1滚动数组
``` java
# f[n] = f[n - 1] + f[n - 2]如下
// 1、1、2、3、5、8、13、21、34...
private int fibonacci(int n) {// n>=0
    if (n == 0 || n == 1)
        return 1;
    int[] num = new int[n + 1];
    num[0] = 1;
    num[1] = 1;
    for (int i = 2; i <= n; i++)
        num[i] = num[i - 1] + num[i - 2];
    return num[n];
}
# 比如定义了一个很长的数组，但是每次只用最近的3个，前面的都浪费了，所以可以使用滚动数组，只需要一个长度为3的数组即可如下
private int fibonacci(int n) {// n>=0
    if (n == 0 || n == 1)
        return 1;
    int[] num = new int[3];// 只需要一个长度为 3 的数组即可。
    num[0] = 1;
    num[1] = 1;
    for (int i = 2; i <= n; i++)
        num[i % 3] = num[(i - 1) % 3] + num[(i - 2) % 3];
    return num[n % 3];
}


```
### 1.1.2差分数组
``` java
public void increment(int[] nums, int a, int b, int k) {
    for (int index = a; index <= b; index++) {
        nums[index] += k;
    }
}

# 代码如下
public class DiffNums {

    private int[] diff;// 差分数组。
    private int[] nums;// 原数组。

    public DiffNums(int[] nums) {
        this.nums = nums;
        diff = new int[nums.length];
        diff[0] = nums[0];
        for (int i = 1; i < diff.length; i++)
            diff[i] = nums[i] - nums[i - 1];
    }

    // 给区间[a,b]每个元素增加val（也可为负数）。
    public void increment(int a, int b, int val) {
        diff[a] += val;
        if (b + 1 < diff.length)
            diff[b + 1] -= val;
    }

    // 返回结果数组。
    public int[] result() {
        nums[0] = diff[0];
        for (int i = 1; i < diff.length; i++)
            nums[i] = diff[i] + nums[i - 1];
        return nums;
    }
}

```
### 1.1.3二维差二分数组
``` java
public void add(int x1, int y1, int x2, int y2, int val) {
    d[x1][y1] += val;// 增加S1
    d[x1][y2 + 1] -= val;// 减去S2
    d[x2 + 1][y1] -= val;// 减去S3
    d[x2 + 1][y2 + 1] += val;//加上S4
}

# 代码如下
private int[][] d;// 差分数组。
private int[][] a;// 原数组。

public TwoDiffNums(int[][] a) {
    this.a = a;
    int m = a.length;
    int n = a[0].length;
    d = new int[m][n];
    // 求差分数组。
    for (int i = 0; i < m; i++)
        for (int j = 0; j < n; j++)
            add(i, j, i, j, a[i][j]);
}

public void add(int x1, int y1, int x2, int y2, int val) {
    d[x1][y1] += val;
    if (y2 + 1 < d[0].length)
        d[x1][y2 + 1] -= val;
    if (x2 + 1 < d.length)
        d[x2 + 1][y1] -= val;
    if (x2 + 1 < d.length && y2 + 1 < d[0].length)
        d[x2 + 1][y2 + 1] += val;
}

// 返回结果数组。
public int[][] result() {
    for (int i = 0; i < a.length; i++) {
        for (int j = 0; j < a[0].length; j++) {
            int x1 = i > 0 ? a[i - 1][j] : 0;
            int x2 = j > 0 ? a[i][j - 1] : 0;
            int x3 = i > 0 && j > 0 ? a[i - 1][j - 1] : 0;
            a[i][j] = x1 + x2 - x3 + d[i][j];
        }
    }
    return a;
}

```
